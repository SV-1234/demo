{"remainingRequest":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\src\\components\\mapPage.vue?vue&type=template&id=3cacfaab","dependencies":[{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\src\\components\\mapPage.vue","mtime":1718594928000},{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718002108000},{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1718002110000},{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1718002110000},{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718002108000},{"path":"C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1718002110000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ibWFwIiBpZD0ibWFwIj48L2Rpdj4K"},{"version":3,"sources":["C:\\Users\\郭耀涛\\Desktop\\BaiDuDisk\\myapp\\src\\components\\mapPage.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/郭耀涛/Desktop/BaiDuDisk/myapp/src/components/mapPage.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"map\" id=\"map\"></div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { onMounted, reactive, inject } from \"vue\";\n\nconst provincesData = [\n  { name: \"北京\", value: 144.722222 },\n  { name: \"天津\", value: 115.022222 },\n  { name: \"河北\", value: 234.755556 },\n  { name: \"山西\", value: 359.7 },\n  { name: \"内蒙古\", value: 2104.644444 },\n  { name: \"辽宁\", value: 724.577778 },\n  { name: \"吉林\", value: 1836.1 },\n  { name: \"黑龙江\", value: 2958.955556 },\n  { name: \"上海\", value: 199.711111 },\n  { name: \"江苏\", value: 540.833333 },\n  { name: \"浙江\", value: 1940.8 },\n  { name: \"安徽\", value: 1408.411111 },\n  { name: \"福建\", value: 2972.5 },\n  { name: \"江西\", value: 3737.488889 },\n  { name: \"山东\", value: 299.588889 },\n  { name: \"河南\", value: 365.766667 },\n  { name: \"湖北\", value: 1861.955556 },\n  { name: \"湖南\", value: 2774.277778 },\n  { name: \"广东\", value: 1641.166667 },\n  { name: \"广西\", value: 4266.711111 },\n  { name: \"海南\", value: 3633.477778 },\n  { name: \"重庆\", value: 1889.822222 },\n  { name: \"四川\", value: 3169.866667 },\n  { name: \"贵州\", value: 3018.055556 },\n  { name: \"云南\", value: 3926.355556 },\n  { name: \"西藏\", value: 130104.677778 },\n  { name: \"陕西\", value: 1121.111111 },\n  { name: \"甘肃\", value: 1015.0 },\n  { name: \"青海\", value: 13555.944444 },\n  { name: \"宁夏\", value: 154.944444 },\n  { name: \"新疆\", value: 3634.133333 },\n];\n\nexport default {\n  setup() {\n    let $echarts = inject(\"echarts\");\n    let mapData = reactive({});\n\n    async function getState() {\n      try {\n        const response = await axios.get(\"/china/data\");\n        mapData = response.data;\n      } catch (error) {\n        console.error(\"Failed to fetch map data: \", error);\n      }\n    }\n\n    onMounted(() => {\n      console.log(\"Fetching map data...\");\n      getState().then(() => {\n        console.log(\"Map data fetched.\");\n        $echarts.registerMap(\"china\", mapData.chinaData);\n        let myChart = $echarts.init(document.getElementById(\"map\"));\n\n        let scatterData = provincesData.map((province) => ({\n          name: province.name,\n          value: [province.name, province.value], // 显示省份名称和GDP\n        }));\n\n        myChart.setOption({\n          geo: {\n            map: \"china\",\n            itemStyle: {\n              areaColor: \"#0099ff\",\n              borderColor: \"#00ffff\",\n              shadowColor: \"rgba(230,130,70,0.5)\",\n              shadowBlur: 30,\n              emphasis: {\n                focus: \"self\",\n              },\n            },\n          },\n          visualMap: {\n            type: \"continuous\",\n            min: 100,\n            max: 5000,\n            calculable: true,\n            inRange: {\n              color: [\"#50a3ba\", \"#eac736\", \"#d94e5d\"],\n            },\n            textStyle: {\n              color: \"#fff\",\n              top: \"20px\", // 将visualMap放置在地图顶部，并留出一定间距\n            },\n          },\n\n          title: {\n            left: \"45%\",\n            textStyle: {\n              color: \"#fff\",\n              fontSize: 20,\n              textShadowBlur: 10,\n              textShadowColor: \"#33ffff\",\n            },\n          },\n          visualMap: {\n            type: \"continuous\",\n            min: 100,\n            max: 5000,\n            calculable: true,\n            inRange: {\n              color: [\"#50a3ba\", \"#eac736\", \"#d94e5d\"],\n            },\n            textStyle: {\n              color: \"#fff\",\n              top: \"0px\",\n            },\n            bottom: 0, // 将visualMap的底部与地图的最底部对齐\n          },\n\n          series: [\n            {\n              type: \"scatter\",\n              itemStyle: {\n                color: \"red\",\n              },\n              coordinateSystem: \"geo\",\n              data: scatterData,\n            },\n          ],\n        });\n      });\n    });\n\n    return {\n      getState,\n      mapData,\n    };\n  },\n};\n</script>\n\n<style>\n.map {\n  width: 100%;\n  height: 80%; /* 使图表高度减少 */\n  margin-top: 0px; /* 增加顶部间距 */\n}\n</style>"]}]}