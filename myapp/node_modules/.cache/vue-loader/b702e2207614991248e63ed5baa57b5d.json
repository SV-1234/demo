{"remainingRequest":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\src\\components\\WordCloud.vue?vue&type=style&index=0&id=c543a3da&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\src\\components\\WordCloud.vue","mtime":1719747095137},{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\css-loader\\dist\\cjs.js","mtime":1718002108000},{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1718002110000},{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\postcss-loader\\src\\index.js","mtime":1718002110000},{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718002108000},{"path":"C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1718002110000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudGl0bGUgew0KICBjb2xvcjogIzczYzBkZTsNCiAgZm9udC1zaXplOiAyMHB4OyAvKiDmoLnmja7pnIDopoHosIPmlbTlrZfkvZPlpKflsI8gKi8NCiAgbWFyZ2luLWJvdHRvbTogMjBweDsgLyog5re75Yqg5bqV6YOo5aSW6L656Led5Lul5LiO5Zu+6KGo5L+d5oyB5LiA5a6a6Led56a7ICovDQp9DQo="},{"version":3,"sources":["C:\\Users\\郭耀涛\\Desktop\\test\\demo\\myapp\\src\\components\\WordCloud.vue"],"names":[],"mappings":";AAiIA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC7C","file":"C:/Users/郭耀涛/Desktop/test/demo/myapp/src/components/WordCloud.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 新增文本框 -->\r\n    <div class=\"title\" style=\"text-align: center\">多降雨量省份</div>\r\n\r\n    <div ref=\"wordCloud\" style=\"width: 600px; height: 200px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\nimport \"echarts-wordcloud\";\r\n\r\nexport default {\r\n  name: \"WordCloud\",\r\n  data() {\r\n    return {\r\n      wordCloudData: [], // 用于存储筛选后的数据，供词云图使用\r\n    };\r\n  },\r\n  mounted() {\r\n    this.processData();\r\n  },\r\n  methods: {\r\n    processData() {\r\n      // 示例数据，需替换为你的实际数据\r\n      const data = [\r\n        { year: 2018, province: \"安徽省\", value: 3.414695 },\r\n\r\n        { year: 2018, province: \"福建省\", value: 4.025741 },\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n        { year: 2018, province: \"广西\", value: 5.045084 },\r\n\r\n        { year: 2018, province: \"海南省\", value: 5.255322 },\r\n        { year: 2018, province: \"河南省\", value: 2.245509 },\r\n        { year: 2018, province: \"黑龙江省\", value: 1.895783 },\r\n\r\n        { year: 2018, province: \"湖南省\", value: 4.196918 },\r\n        { year: 2018, province: \"青海省\", value: 1.607905 },\r\n\r\n        { year: 2018, province: \"云南省\", value: 4.42231 },\r\n\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n        { year: 2018, province: \"广东省\", value: 4.767945 },\r\n        { year: 2019, province: \"福建省\", value: 0.004573661 },\r\n        { year: 2019, province: \"甘肃省\", value: 0.001258132 },\r\n      ];\r\n\r\n      const provinceCount = {};\r\n      data.forEach((entry) => {\r\n        const province = entry.province;\r\n        if (!provinceCount[province]) {\r\n          provinceCount[province] = 0;\r\n        }\r\n        provinceCount[province]++;\r\n      });\r\n\r\n      // 调试输出: 显示统计的省份及其出现次数\r\n      console.log(\"Province count:\", provinceCount);\r\n\r\n      // 获取出现次数最多的前十个省份\r\n      const sortedProvinces = Object.entries(provinceCount)\r\n        .sort((a, b) => b[1] - a[1])\r\n        .slice(0, 10);\r\n\r\n      // 调试输出: 显示排序后的前十个省份\r\n      console.log(\"Sorted Provinces:\", sortedProvinces);\r\n\r\n      // 更新数据，映射为echarts所需的格式\r\n      this.wordCloudData = sortedProvinces.map(([name, value]) => ({\r\n        name,\r\n        value,\r\n      }));\r\n\r\n      // 立即绘制词云图\r\n      this.drawWordCloud();\r\n    },\r\n    drawWordCloud() {\r\n      const chart = echarts.init(this.$refs.wordCloud);\r\n      const option = {\r\n        tooltip: {\r\n          show: true,\r\n          formatter: function (params) {\r\n            return `${params.name}: ${params.value}`;\r\n          },\r\n        },\r\n        series: [\r\n          {\r\n            type: \"wordCloud\",\r\n            gridSize: 20, // 控制词云图的清晰度\r\n            sizeRange: [12, 50],\r\n            rotationRange: [-90, 90],\r\n            shape: \"circle\",\r\n            textStyle: {\r\n              normal: {\r\n                color: function () {\r\n                  return `rgb(${Math.round(Math.random() * 255)}, ${Math.round(\r\n                    Math.random() * 255\r\n                  )}, ${Math.round(Math.random() * 255)})`;\r\n                },\r\n              },\r\n              emphasis: {\r\n                shadowBlur: 10,\r\n                shadowColor: \"#333\",\r\n              },\r\n            },\r\n            data: this.wordCloudData, // 确保使用筛选后的数据\r\n          },\r\n        ],\r\n      };\r\n      chart.setOption(option);\r\n      window.addEventListener(\"resize\", () => {\r\n        chart.resize();\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  color: #73c0de;\r\n  font-size: 20px; /* 根据需要调整字体大小 */\r\n  margin-bottom: 20px; /* 添加底部外边距以与图表保持一定距离 */\r\n}\r\n</style>\r\n"]}]}